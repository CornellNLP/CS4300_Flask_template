<html>
<style>
    body {
        margin: 0;
    }

    /* footer styling */
    footer {
        background-color: rgb(3, 152, 158);
        padding: 10px;
    }

    footer p {
        color: #e5fcf5;
        text-align: center;
    }

    /* form styling */
    form {
        width: 50%;
        margin: 0 auto;
        padding-bottom: 50px;
    }

    .form_group {
        display: flex;
        padding-bottom: 10px;
    }

    label {
        width: 300px;
        text-align: right;
        padding-right: 10px;
    }

    #ambianceLabel {
        width: 300px;
        text-align: right;
        padding-right: 10px;
    }

    #slider_div {
        margin-left: 150px;
    }

    select {
        width: 100px;
    }

    button {
        padding: 10px;
        color: white;
        background-color: #c6878f;
        border-radius: 10px;
        border: none;
        font-weight: bold;
        margin-left: 300px;
        margin-top: 10px;
    }

    textarea {
        width: 250px;
        height: 100px;
    }

    .fav_name_input {
        width: 250px;
    }

    /* output styling */
    h1 {
        font-size: 26px;
        margin: 30px;
    }

    .rec_info {
        margin: 30px;
        border: 1px solid #b79d94;
        padding: 15px;
        border-radius: 30px;
    }

    .restaurant_name {
        margin-bottom: 5px;
        margin-top: 10px;
        font-weight: 900;
        font-size: 24px;
        color: #16425b;
    }

    .summary p {
        margin: 0;
    }

    .review_pic {
        display: flex;
        margin-top: 20px;
    }

    .review_pic img {
        margin: auto;
        padding-right: 10;
    }

    .review_info p {
        margin-top: 15px;
        font-style: italic;
        margin-bottom: 0;
    }

    .review_info {
        margin-left: 10px;
        margin-right: 10px;
    }

    .review_label {
        margin-top: 0 !important;
        font-style: normal !important;
        margin-bottom: 5px;
        font-weight: 600;
        color: #4a5899;
        margin-bottom: -10px !important;
    }

    .stars {
        display: flex;
    }

    .categories {
        display: flex;
    }

    .categories_label {
        font-style: normal !important;
        margin-bottom: 5px;
        font-weight: 600;
        color: #4a5899;
        padding-right: 5px;
    }

    .name_div {
        display: flex;
        align-items: center;
    }

    .name_div p {
        margin-bottom: 5px;
        margin-top: 10px;
        font-weight: 600;
        font-size: 20px;
        color: #16425b;
        padding-left: 5px;
    }
</style>

<head>
    <!-- <link rel="stylesheet" href="/static/bootstrap.min.css"> -->
    <link rel="stylesheet" href="/static/main.css" />
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

    <!-- Javascript -->
    <script>
        // need to get all names of restaurants from dict in rankings.py
        var restaurant = tojson("{{ restaurant_list }}");

        $(function () {
            // var restaurants = ["The Halal Guys", "Boloco", "Taco Bell", "Taco e"];
            $("#fav_name").autocomplete({
                source: restaurants,
            });
        });
    </script>
</head>

<body>
    <img src="{{url_for('static', filename='BostonEats.png')}}" alt="boston eats logo">
    <div class="form_div">
        <form method="get">
            <div>
                <div class="form_group">
                    <label class="form_label" for="fav_name">Name of favorite restaurant (required):</label>
                    <input type="text" name="fav_name" id="fav_name" class="fav_name_input" required />
                </div>
                <div class="form_group">
                    <label class="form_label" for="user_review">User Review (need to show/hide):</label>
                    <textarea name="user_review" id="user_review"></textarea>
                </div>
                <div class="form_group">
                    <label for="max_price">Price point:</label>
                    <select name="max_price" id="max_price">
                        <option value=""></option>
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
                <div class="form_group">
                    <label for="cuisine">Cuisine:</label>
                    <select name="cuisine" id="cuisine">
                        <option value=""></option>
                        <!-- <option value="American">American</option> -->
                        <option value="Italian">Italian</option>
                        <option value="Mexican">Mexican</option>
                        <option value="Indian">Indian</option>
                        <option value="Japanese">Japanese</option>
                        <option value="Seafood">Seafood</option>
                        <option value="Vietnamese">Vietnamese</option>
                        <option value="Thai">Thai</option>
                        <option value="Halal">Halal</option>
                        <option value="Greek">Greek</option>

                        <!-- <option value="bakery">Bakeries</option>
                        <option value="deli">Delis</option>
                        <option value="fast_food">Fast Food</option>
                        <option value="bar">Bars</option>
                        <option value="steakhouse">Steakhouses</option> -->
                    </select>
                </div>
                <div class="form_group">
                    <p id="ambianceLabel">Ambiance:</p>
                    <div class="checkbox_div">
                        <input type="checkbox" id="ambiance1" name="ambiance1" value="romantic" />
                        <label for="ambiance1">Romantic</label><br />
                        <input type="checkbox" id="ambiance2" name="ambiance2" value="intimate" />
                        <label for="ambiance2">Intimate</label><br />
                        <input type="checkbox" id="ambiance3" name="ambiance3" value="classy" />
                        <label for="ambiance3">Classy</label><br />
                        <input type="checkbox" id="ambiance4" name="ambiance4" value="hipster" />
                        <label for="ambiance4">Hipster</label><br />
                    </div>
                    <div class="checkbox_div">
                        <input type="checkbox" id="ambiance5" name="ambiance5" value="touristy" />
                        <label for="ambiance5">Touristy</label><br />
                        <input type="checkbox" id="ambiance6" name="ambiance6" value="trendy" />
                        <label for="ambiance6">Trendy</label><br />
                        <input type="checkbox" id="ambiance7" name="ambiance7" value="upscale" />
                        <label for="ambiance7">Upscale</label><br />
                        <input type="checkbox" id="ambiance8" name="ambiance8" value="casual" />
                        <label for="ambiance8">Casual</label><br />
                    </div>
                </div>
                <div class="form_group" id="slider_div">
                    <p>Ambiance Weight</p>
                    <input type="range" min="0" max="100" value="50" class="slider" name="weightRange"
                        id="weightRange" />
                    <p>Review Weight</p>
                </div>

                <button type="submit">
                    Find your new favorite restaurant in Boston!
                </button>
            </div>
        </form>
    </div>
    <div class="result_div">
        <h1 id="output_message">{{output_message}}</h1>
        {% for d in data %}
        <div class="rec_info">
            <div class="summary">
                <div class="name_div">
                    <a class="restaurant_name" href="https://www.yelp.com/biz/{{data[d]['id']}}">{{d}}</a>
                    <p>({{data[d]['sim_score']}}% Match)</p>
                </div>
                <div class="categories">
                    <p class="categories_label">Categories:</p>
                    <p>{{data[d]['categories']}}</p>
                </div>
                <p>{{data[d]['address']}}</p>
                <div class="stars">
                    {% for star in range(data[d]['star rating']) %}
                    <p>★</p>
                    {% endfor %} {% for star in range(5 - data[d]['star rating']) %}
                    <p>☆</p>
                    {% endfor %}
                </div>
            </div>
            <div class="review_pic">
                <img src="{{data[d].photos[0]}}" width="250px" />
                <div class="review_info">
                    <p class="review_label">Reviews:</p>
                    {% for r in data[d]['reviews'] %}
                    <p>"{{r}}"</p>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <footer>
        <p>Project Name: Favorite Restaurant Generator</p>
        <p>
            Student Name: Becky Borrazzo: rgb226, Lucy Wang: ljw222, Maya Tiwari:
            mot23, Reetu Parikh: rsp99, Sahar Sami: ss2698
        </p>
    </footer>
</body>

</html>
