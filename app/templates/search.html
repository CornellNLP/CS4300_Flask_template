<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="/static/bootstrap.min.css">
        <link rel="stylesheet" href="/static/main.css">
        <link href='https://fonts.googleapis.com/css?family=Almendra SC' rel='stylesheet'>
        <script src="/static/jquery-3.4.1.min.js" type="text/javascript"></script>
        <script src="/static/stars-plus.js" type="text/javascript"></script>
        <title>Charcrafter</title>

        <script type="text/javascript">
          function stars() {
            $("#star-1").click(function() {
              $("#star-1").addClass("starcolor");
            });
          };
        </script>
    </head>
    <body>
        <div class="topcorner">
            <p>Project Name: {{ name }}</p>
            <p>Student Name: ({{ netid }})</p>
        </div>
        <main>
          <!--style="font-size: 55px; font-family: Impact, fantasy; color: #4285F4"-->
        <h1>CharCrafter</h1>
          <!--blurb-->
          <h3>Welcome to Character Crafter, an easy tool for finding class and subclass
            builds for the fantasy game DND 5th edition based on YOUR needs! </h3>
          <h3>Normally, to create a character, you would have to laboriously search through a guidebook to 
            find the right character type to play as.  A character's strengths and weaknesses are largely defined by their class.
            This tool searches for you with just a few keywords. 
            For  matches, describe the character you want to play in a few words.</h3>
        </main>
        <form class="form-inline global-search">
            <div class="form-group">
                <input id="input" type="text" name="search" class="form-control" placeholder="Your Input">
            </div>
            <button type="submit" class="btn btn-info">Get Builds</button>
        </form>
        <form class="form-inline global-search">
        {% if data %}
          <div class="back_div">
          <div class="backing">
            <h1>Play your game as: </h1><h2> {{output_message}}</h2>
          </div>
          
          {% if data[0]["rating"] <= 0.12%}
          <div class="backing">
            <h2>Sorry, we didn't find any meaningful results.</h2>
          </div>
          </div>
          {% else %}
          </div>
          <div class="output">
            {% for d in data %}
              <!--<p>{{d}}</p>-->
              <div class = "result">
                <div class="score_breakdown">                    
                  <h2>Social Score</h2>
                  <h2>Match Score</h2>
                </div>

                <div class="char">
                  <h2>{{d["class"]}}</h2>
                  <p>{{d["flavor"]}}</p>
                  <!--this should be shorter, so even though it has less width, won't look like a block-->
                </div>
                  
                <div class="ratings">
                  <h2>Build Score</h2>
                  <h2>(Out of 5)</h2>
                  <p>Score: {{d["rating"]}}</p>
                  <p>How was this result?</p>                  
                  <div class="rates">
                  {% for n in range(1,6)%}
                    <div class="star" id = "star-{{n}}">&#8902;</div>
                  {% endfor %}
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
            {% endif %}
          
        {% endif %}
        </form>
    </body>
</html>
