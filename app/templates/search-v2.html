<html>

<head>
  <link rel="stylesheet" href="/static/bootstrap.min.css">
  <link rel="stylesheet" href="/static/main.css">
  <style>
    body {
      padding-top: 0px;
    }

    main {
      padding-top: 10%;
    }

    .background_img {
      background-image: url(/static/board.jpg);
      position: fixed;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background-attachment: fixed;
      background-size: cover;
      z-index: -100;
      filter: blur(1px);
    }

    /* 
    .results-table {
      margin-left: auto;
      margin-right: auto;
      table-layout: fixed;
      width: 100%;
    }

    .results-table td {
      padding: 0px 25px 0px 25px;
      text-align: center;
      vertical-align: middle;
    } 
    */

    .normal-title {
      font-size: 140%;
      font-weight: bold;
      padding-bottom: 10px;
      color: #0d4194;
    }

    ul li {
      list-style: none;
    }

    .results-div {
      align-content: center;
      text-align: center;
      margin: 0px 20px;
    }

    /* this is meant for each category div; haven't tested yet */
    .category {
      align-content: center;
      text-align: center;
      padding: 20px;
      margin: 0px 10px;
      background-color: rgba(236, 187, 122, 0.8);
      width: 100%;
    }

    .form-group {
      margin: 20px;
      width: 90%;
    }

    .global-search .form-control {
      margin: 0px 0px 0px 2px;
    }

    .global-search .form-text {
      width: 500px;
    }

    .global-search .form-num {
      width: 100px;
    }

    .global-search .form-box {
      margin: 0px 2px 0px 15px;
      padding: 0px;
      width: 15px;
      height: 15px;
    }
  </style>
</head>

<body>

  <div class="background_img"></div>

  <!--
    <div class="topcorner">
        <p>Project Name: {{ name }}</p>
        <p>Student Names: ({{ netid }})</p>
    </div>
    -->
  <main>
    <form class="form-inline global-search">
      <h1 style="font-size: 55px; font-family:Futura">
        <span style="color: rgb(4, 70, 19);">S</span>
        <span style="color: rgb(17, 80, 29);">M</span>
        <span style="color: rgb(26, 87, 37);">A</span>
        <span style="color: rgb(35, 99, 47);">R</span>
        <span style="color: rgb(46, 110, 58);">T</span>
        <span> ðŸ”ª </span>
        <span style="color: rgb(53, 121, 66);">C</span>
        <span style="color: rgb(61, 121, 66);">H</span>
        <span style="color: rgb(83, 131, 76);">E</span>
        <span style="color: rgb(102, 151, 95);">F</span>
      </h1>

      <br><br>

      <p>
        Start your fitness journey right!!
        Enter your information for a curated list of recipes.
      </p>

      <br><br>

      <div class="form-group">
        <label id="fav-input">Favorite foods: </label>
        <input id="fav-input" type="text" name="fav-foods" class="form-control form-text"
          placeholder="e.g. 'watermelon, fish, cashews'">
        <input type="hidden" name="version" value="2">
      </div>

      <div class="form-group">
        <label id="res-input">Diet restrictions: </label>
        <input id="res-input" type="text" name="res-foods" class="form-control form-text"
          placeholder="e.g. 'nuts, milk, shrimp'">
        <input type="hidden" name="version" value="2">
      </div>

      <div class="form-group">
        <label id="cal-input">Calorie limit: </label>
        <input id="cal-input" type="number" name="cal-limit" min=0 max=20000 class="form-control form-num">
      </div>

      <div class="form-group">
        <label>Meal recommendations by category: </label>
        <input type="checkbox" class="form-control form-box form-category" id="b-toggle">
        <label id="b-toggle">Breakfast</label>

        <input type="checkbox" class="form-control form-box form-category" id="l-toggle">
        <label id="l-toggle">Lunch</label>

        <input type="checkbox" class="form-control form-box form-category" id="d-toggle">
        <label id="d-toggle">Dinner</label>
      </div>

      <div class="form-group">
        <input type="checkbox" class="form-control form-box" id="drink-toggle">
        <label id="drink-toggle">Include drinks</label>
      </div>

      <div class="form-group">
        <button id="submit" type="submit" class="btn btn-info"> Make meal plan ! </button>
      </div>

    </form>
    <div id="results" class="results-div">
      <h1>{{output_message}}</h1>

      <!-- CATEGORY GENERATION
      <script>
        $("#submit").click(function () {
          var result = "#results";
          var catHtml = '#catHtml';
          var resultHtml = '';

          if ($('.form-category:checkbox:checked').length > 0) {
            for (c in checked) {
              resultHtml += [catHtml].join("\n");
            }
          } else {
            resultHtml += [catHtml].join("\n") + [catHtml].join("\n") + [catHtml].join("\n");
          }

          result.html(resultHtml);
          return false;
        });
      </script>

      SINGLE CATEGORY HTML
      <div id="catHtml" class="category">
        {% for i in range(data|length) %}
        <p class="normal-title">{{i + 1}}. {{data[i]["title"]}}</p>
        {% if data[i]["description"] is not none %}
        <p><i>{{data[i]["description"]}}</i></p>
        {% endif %}
        {% if data[i]["calories"] is not none %}
        <p><strong>Calories:</strong> {{data[i]["calories"]}}</p>
        {% endif %}
        {% if data[i]["fat"] is not none %}
        <p><strong>Fat:</strong> {{data[i]["fat"]}} g</p>
        {% endif %}
        {% if data[i]["rating"] is not none %}
        <p>
          {% for i in range(data[i]["rating"] | int) %}
          &#9733
          {% endfor %}
          {% for i in range(5 - data[i]["rating"] | int) %}
          &#9734
          {% endfor %}
        </p>
        <br>
        {% endif %}
        {% endfor %}
      </div> 
      -->

      <!-- this is the original result display -->
      {% if data %}
      <br><br>
      {% for i in range(data|length) %}
      <p class="normal-title">{{i + 1}}. {{data[i]["title"]}}</p>
      {% if data[i]["description"] is not none %}
      <p><i>{{data[i]["description"]}}</i></p>
      {% endif %}
      {% if data[i]["calories"] is not none %}
      <p><strong>Calories:</strong> {{data[i]["calories"]}}</p>
      {% endif %}
      {% if data[i]["fat"] is not none %}
      <p><strong>Fat:</strong> {{data[i]["fat"]}} g</p>
      {% endif %}
      {% if data[i]["rating"] is not none %}
      <p>
        {% for i in range(data[i]["rating"] | int) %}
        &#9733
        {% endfor %}
        {% for i in range(5 - data[i]["rating"] | int) %}
        &#9734
        {% endfor %}
      </p>
      <br>
      {% endif %}
      {% endfor %}

      {% endif %}
    </div>
  </main>
</body>

</html>